{
	"version": "2.0.0",
	"tasks": [
		{
			"label": "Create Next.js project",
			"type": "shell",
			"command": "cd /Users/sebastiandrazsky/isi-frontend && npx create-next-app@latest . --typescript --eslint --tailwind --src-dir --app --import-alias '@/*' --use-npm --yes",
			"isBackground": false,
			"problemMatcher": []
		},
		{
			"label": "Create Next.js in tmp",
			"type": "shell",
			"command": "cd /tmp && rm -rf isi-frontend-tmp && npx create-next-app@latest isi-frontend-tmp --typescript --eslint --tailwind --src-dir --app --import-alias '@/*' --use-npm --yes 2>&1",
			"isBackground": false,
			"problemMatcher": []
		},
		{
			"label": "Copy project files",
			"type": "shell",
			"command": "cp -a /tmp/isi-frontend-tmp/. /Users/sebastiandrazsky/isi-frontend/ 2>&1 && echo 'COPY COMPLETE'",
			"isBackground": false,
			"problemMatcher": []
		},
		{
			"label": "Sanity dev run",
			"type": "shell",
			"command": "cd /Users/sebastiandrazsky/isi-frontend && timeout 30 npm run dev 2>&1 || true",
			"isBackground": false,
			"problemMatcher": []
		},
		{
			"label": "Sanity dev check",
			"type": "shell",
			"command": "cd /Users/sebastiandrazsky/isi-frontend && (npm run dev &) && sleep 15 && curl -s -o /dev/null -w '%{http_code}' http://localhost:3000 && echo '' && echo 'DEV_SERVER_OK' && kill %1 2>/dev/null || (echo 'DEV_SERVER_FAIL' && kill %1 2>/dev/null)",
			"isBackground": false,
			"problemMatcher": []
		},
		{
			"label": "HTTP check",
			"type": "shell",
			"command": "curl -s -o /dev/null -w '%{http_code}' http://localhost:3000 && echo '' && echo 'HTTP_CHECK_PASS'",
			"isBackground": false,
			"problemMatcher": []
		},
		{
			"label": "TypeScript check",
			"type": "shell",
			"command": "cd /Users/sebastiandrazsky/isi-frontend && npx tsc --noEmit 2>&1 && echo 'TSC_PASS' || echo 'TSC_FAIL'",
			"isBackground": false,
			"problemMatcher": []
		},
		{
			"label": "ESLint check",
			"type": "shell",
			"command": "cd /Users/sebastiandrazsky/isi-frontend && npm run lint 2>&1 && echo 'ESLINT_PASS' || echo 'ESLINT_FAIL'",
			"isBackground": false,
			"problemMatcher": []
		},
		{
			"label": "Stop dev server",
			"type": "shell",
			"command": "lsof -ti:3000 | xargs kill -9 2>/dev/null; echo 'DEV_SERVER_STOPPED'",
			"isBackground": false,
			"problemMatcher": []
		},
		{
			"label": "Git stage",
			"type": "shell",
			"command": "cd /Users/sebastiandrazsky/isi-frontend && rm -rf .next && git add -A && git status 2>&1",
			"isBackground": false,
			"problemMatcher": []
		},
		{
			"label": "Git log",
			"type": "shell",
			"command": "cd /Users/sebastiandrazsky/isi-frontend && git log --oneline 2>&1",
			"isBackground": false,
			"problemMatcher": []
		},
		{
			"label": "Check remote",
			"type": "shell",
			"command": "cd /Users/sebastiandrazsky/isi-frontend && git remote -v 2>&1",
			"isBackground": false,
			"problemMatcher": []
		},
		{
			"label": "Add remote",
			"type": "shell",
			"command": "cd /Users/sebastiandrazsky/isi-frontend && git remote add origin https://github.com/burvolapp-arch/isi-frontend.git 2>&1 && echo 'REMOTE_ADDED'",
			"isBackground": false,
			"problemMatcher": []
		},
		{
			"label": "Git commit",
			"type": "shell",
			"command": "cd /Users/sebastiandrazsky/isi-frontend && git rm --cached .vscode/tasks.json 2>/dev/null; echo '.vscode/' >> .gitignore && git add -A && git commit --amend -m 'chore: initialize ISI Next.js frontend scaffold' 2>&1",
			"isBackground": false,
			"problemMatcher": []
		},
		{
			"label": "Verify commit",
			"type": "shell",
			"command": "cd /Users/sebastiandrazsky/isi-frontend && git log --oneline 2>&1",
			"isBackground": false,
			"problemMatcher": []
		},
		{
			"label": "Git push",
			"type": "shell",
			"command": "cd /Users/sebastiandrazsky/isi-frontend && git push --force origin main 2>&1",
			"isBackground": false,
			"problemMatcher": []
		},
		{
			"label": "TypeScript check",
			"type": "shell",
			"command": "cd /Users/sebastiandrazsky/isi-frontend && npx tsc --noEmit 2>&1; echo '---EXIT:' $?",
			"isBackground": false,
			"problemMatcher": []
		},
		{
			"label": "tsc-noEmit-v2",
			"type": "shell",
			"command": "cd /Users/sebastiandrazsky/isi-frontend && npx tsc --noEmit 2>&1; echo 'TSC_EXIT:'$?",
			"isBackground": false,
			"problemMatcher": []
		},
		{
			"label": "eslint-v2",
			"type": "shell",
			"command": "cd /Users/sebastiandrazsky/isi-frontend && npm run lint 2>&1; echo 'LINT_EXIT:'$?",
			"isBackground": false,
			"problemMatcher": []
		},
		{
			"label": "next-build",
			"type": "shell",
			"command": "cd /Users/sebastiandrazsky/isi-frontend && npm run build 2>&1; echo 'BUILD_EXIT:'$?",
			"isBackground": false,
			"problemMatcher": []
		},
		{
			"label": "git-stage",
			"type": "shell",
			"command": "cd /Users/sebastiandrazsky/isi-frontend && git add -A && git status --short 2>&1",
			"isBackground": false,
			"problemMatcher": []
		},
		{
			"label": "git-diff-stat",
			"type": "shell",
			"command": "cd /Users/sebastiandrazsky/isi-frontend && git diff --cached --stat 2>&1",
			"isBackground": false,
			"problemMatcher": []
		},
		{
			"label": "git-stat-full",
			"type": "shell",
			"command": "cd /Users/sebastiandrazsky/isi-frontend && git diff --cached --stat 2>&1 | head -20",
			"isBackground": false,
			"problemMatcher": []
		},
		{
			"label": "git-commit",
			"type": "shell",
			"command": "cd /Users/sebastiandrazsky/isi-frontend && git commit -m 'feat: connect frontend to ISI backend API\n\n- Add TypeScript data contract (src/lib/types.ts) mirroring all backend JSON shapes\n- Add fetch-based API client (src/lib/api.ts) with typed endpoints\n- Add dashboard page rendering ISI composite scores, country rankings, axis registry\n- Add country detail page with per-axis breakdown, channels, partners, warnings\n- Add reusable components: KPICard, CountryTable, AxisCard, StatusBadge, ErrorPanel\n- Add environment configuration (.env.local, .env.example)\n- All data from backend API. Zero business logic in frontend.' 2>&1",
			"isBackground": false,
			"problemMatcher": []
		},
		{
			"label": "git-push",
			"type": "shell",
			"command": "cd /Users/sebastiandrazsky/isi-frontend && git push origin main 2>&1; echo 'PUSH_EXIT:'$?",
			"isBackground": false,
			"problemMatcher": []
		},
		{
			"label": "TypeScript check",
			"type": "shell",
			"command": "cd /Users/sebastiandrazsky/isi-frontend && npx tsc --noEmit"
		},
		{
			"label": "TSC verbose",
			"type": "shell",
			"command": "cd /Users/sebastiandrazsky/isi-frontend && npx tsc --noEmit 2>&1 | tail -50"
		},
		{
			"label": "TSC check 2",
			"type": "shell",
			"command": "cd /Users/sebastiandrazsky/isi-frontend && npx tsc --noEmit 2>&1 | tail -20"
		},
		{
			"label": "ESLint check",
			"type": "shell",
			"command": "cd /Users/sebastiandrazsky/isi-frontend && npm run lint 2>&1 | tail -30"
		},
		{
			"label": "ESLint detail",
			"type": "shell",
			"command": "cd /Users/sebastiandrazsky/isi-frontend && npm run lint 2>&1 | head -80"
		},
		{
			"label": "ESLint compact",
			"type": "shell",
			"command": "cd /Users/sebastiandrazsky/isi-frontend && npx eslint src/ --format compact 2>&1"
		},
		{
			"label": "ESLint to file",
			"type": "shell",
			"command": "cd /Users/sebastiandrazsky/isi-frontend && npx eslint src/ 2>&1 > /tmp/eslint-out.txt; cat /tmp/eslint-out.txt"
		},
		{
			"label": "ESLint full",
			"type": "shell",
			"command": "cd /Users/sebastiandrazsky/isi-frontend && npx eslint src/ 2>&1 > src/lint-output.txt; cat src/lint-output.txt"
		},
		{
			"label": "ESLint recheck",
			"type": "shell",
			"command": "cd /Users/sebastiandrazsky/isi-frontend && npm run lint 2>&1 > src/lint-output.txt; cat src/lint-output.txt"
		},
		{
			"label": "Next.js build",
			"type": "shell",
			"command": "cd /Users/sebastiandrazsky/isi-frontend && npm run build 2>&1 > src/build-output.txt; echo \"EXIT:$?\" >> src/build-output.txt; cat src/build-output.txt"
		},
		{
			"label": "Git status",
			"type": "shell",
			"command": "cd /Users/sebastiandrazsky/isi-frontend && rm -f src/lint-output.txt src/build-output.txt && git add -A && git status"
		},
		{
			"label": "git-commit-redesign",
			"type": "shell",
			"command": "cd /Users/sebastiandrazsky/isi-frontend && git commit -m 'feat: redesign into research-grade analytical platform\n\n- Add 4-layer architecture: Executive Overview, Country Deep Dive, Axis Deep Dive, Transparency Layer\n- Replace Panargus branding with International Sovereignty Institute / ISI\n- Add interactive CountryRankingsTable with sorting, filtering, search, tooltips, expand-row, deviation highlighting\n- Add format.ts utility module (formatScore, computePercentile, deviationFromMean, classificationLabel)\n- Redesign root layout with global nav (Overview, Methodology, Transparency, FAQ) and institutional footer\n- Rebuild Executive Overview with KPIs, distribution bar, interpretation guide, scope/limitations\n- Redesign country detail with percentile, strengths/vulnerabilities, axis contribution breakdown\n- Add axis deep dive page (/axis/[slug]) with cross-EU statistics and score distribution\n- Add static pages: /methodology, /transparency, /faq\n- Add loading skeletons, error boundaries, and 404 page for all routes\n- All data from backend API. Zero business logic in frontend.' 2>&1"
		},
		{
			"label": "git-log-verify",
			"type": "shell",
			"command": "cd /Users/sebastiandrazsky/isi-frontend && git log --oneline -3 2>&1"
		},
		{
			"label": "git-log-full",
			"type": "shell",
			"command": "cd /Users/sebastiandrazsky/isi-frontend && git log --oneline -3 > /tmp/gitlog.txt 2>&1 && cat /tmp/gitlog.txt"
		},
		{
			"label": "git-status-check",
			"type": "shell",
			"command": "cd /Users/sebastiandrazsky/isi-frontend && git log --oneline -5 2>&1 | head -10 && echo '---' && git status --short 2>&1 | head -20"
		},
		{
			"label": "verify-commit",
			"type": "shell",
			"command": "cd /Users/sebastiandrazsky/isi-frontend && git log --oneline -5 > /tmp/gl.txt && cat /tmp/gl.txt && echo '---STATUS---' && git status --short"
		},
		{
			"label": "full-log",
			"type": "shell",
			"command": "cd /Users/sebastiandrazsky/isi-frontend && git log --oneline > /tmp/gl2.txt 2>&1 && cat /tmp/gl2.txt"
		},
		{
			"label": "check-staged",
			"type": "shell",
			"command": "cd /Users/sebastiandrazsky/isi-frontend && git add -A && git diff --cached --stat | wc -l"
		},
		{
			"label": "count-commits",
			"type": "shell",
			"command": "cd /Users/sebastiandrazsky/isi-frontend && git rev-list --count HEAD"
		},
		{
			"label": "git-push-redesign",
			"type": "shell",
			"command": "cd /Users/sebastiandrazsky/isi-frontend && git push origin main 2>&1; echo PUSH_EXIT:$?"
		},
		{
			"label": "Install @microsoft/clarity",
			"type": "shell",
			"command": "cd /Users/sebastiandrazsky/isi-frontend && npm install @microsoft/clarity"
		},
		{
			"label": "Install topojson-server",
			"type": "shell",
			"command": "cd /Users/sebastiandrazsky/isi-frontend && npm install --save-dev topojson-server topojson-simplify topojson-client"
		},
		{
			"label": "Generate EU27 TopoJSON",
			"type": "shell",
			"command": "cd /Users/sebastiandrazsky/isi-frontend && node scripts/generate-eu27-topo.mjs"
		},
		{
			"label": "Generate EU27 TopoJSON v2",
			"type": "shell",
			"command": "cd /Users/sebastiandrazsky/isi-frontend && node scripts/generate-eu27-topo.mjs"
		},
		{
			"label": "Check file size",
			"type": "shell",
			"command": "wc -c /Users/sebastiandrazsky/isi-frontend/public/eu27.topo.json"
		},
		{
			"label": "Generate EU27 TopoJSON v3",
			"type": "shell",
			"command": "cd /Users/sebastiandrazsky/isi-frontend && node scripts/generate-eu27-topo.mjs"
		},
		{
			"label": "Verify TopoJSON",
			"type": "shell",
			"command": "cd /Users/sebastiandrazsky/isi-frontend && node -e \"const t = require('./public/eu27.topo.json'); console.log('bbox:', t.bbox); console.log('arcs:', t.arcs.length); const g = t.objects.countries.geometries; g.forEach(gg => console.log(gg.properties.ISO_A2, gg.type));\""
		}
	]
}